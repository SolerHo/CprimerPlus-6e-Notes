## ç¬¬åå››ç«  ç»“æ„å’Œå…¶ä»–æ•°æ®å½¢å¼

### ğŸ‘‰ã€[å¤ä¹ é¢˜](./å¤ä¹ é¢˜.md)ã€‘ã€[ç¼–ç¨‹ç»ƒä¹ é¢˜](./ç¼–ç¨‹é¢˜.md)ã€‘

Cè¯­è¨€ä¸­ï¼Œæä¾›ç»“æ„å˜é‡ å¯ä»¥æé«˜è¡¨ç¤ºæ•°æ®çš„èƒ½åŠ›ï¼Œåˆ›é€ æ–°çš„å½¢å¼ã€‚

### 1. ç¤ºä¾‹é—®é¢˜ï¼šåˆ›å»ºå›¾ä¹¦ç›®å½•
æ‰“å°å›¾ä¹¦ç›®å½•ï¼ŒåŒ…æ‹¬ï¼šä¹¦åã€ä½œè€…ã€ä»·æ ¼ã€‚
```cpp
#include<stdio.h>
#include<string.h>
char *s_gets(char * st,int n);
#define MAXTITL 41; // ä¹¦åæœ€å¤§é•¿åº¦
#define MAX AUTL 31; // ä½œè€…åå­—çš„æœ€å¤§é•¿åº¦

struct book{
    char title[MAXTITL];
    char author[MAXAUTL];
    float value;
};//ç»“æ„æ¨¡ç‰ˆç»“æŸ

int main(void)
{
    struct book library; // æŠŠlibraryå£°æ˜ä¸ºä¸€ä¸ªbookç±»å‹çš„å˜é‡
    printf("Please enter the book title.\n");
	s_gets(library.title, MAXTITL);
	printf("Now enter the author.\n");
	s_gets(library.author, MAXAUTL);
	printf("Now enter the value.\n");
	scanf("%f", &library.value);
	printf("%s by %s: $%.2f\n", library.title, library.author, library.value);
	printf("%s: \"%s\"($%.2f)\n", library.author, library.title, library.value);
	printf("Done.\n");
    
    return 0;
}

char *s_gets(char * st,int n)
{
    char * ret_val;
	char * find;
	ret_val = fgets(st, n, stdin);
	if (ret_val)  
	{
		find = strchr(st, '\n');//æŸ¥æ‰¾æ¢è¡Œç¬¦
		if (find)              //å¦‚æœåœ°å€ä¸æ˜¯NULL
			*find = '\0'; //å°†æ¢è¡Œç¬¦æ¢æˆ'\0'
		else
			while (getchar() != '\n')  //å¤„ç†è¾“å…¥è¡Œå‰©ä½™çš„å­—ç¬¦
				continue;
	}
	return ret_val;
}
```
ç»“æ„çš„3ä¸ªæŠ€å·§
> - ä¸ºç»“æ„å»ºç«‹ä¸€ä¸ªæ ¼å¼æˆ–æ ·å¼ã€‚
> - å£°æ˜ä¸€ä¸ªé€‚åˆè¯¥æ ·å¼çš„å˜é‡ã€‚
> - è®¿é—®ç»“æ„å˜é‡çš„å„ä¸ªéƒ¨åˆ†ã€‚

### 2. å»ºç«‹ç»“æ„å£°æ˜
- `ç»“æ„å£°æ˜ï¼ˆstructure declarationï¼‰`æè¿°äº†ä¸€ä¸ªç»“æ„çš„ç»„ç»‡å¸ƒå±€ã€‚

- åœ¨ç»“æ„å£°æ˜ï¼Œç”¨`ä¸€å¯¹èŠ±æ‹¬å·`æ‹¬èµ·æ¥çš„æ˜¯`ç»“æ„æˆå‘˜åˆ—è¡¨`ã€‚æ¯ä¸ªæˆå‘˜éƒ½å¯ä»¥æ˜¯ä»»æ„ä¸€ç§Cçš„æ•°æ®ç±»å‹ã€‚

- å³èŠ±æ‹¬å·åé¢çš„åˆ†å·æ˜¯å£°æ˜å¿…éœ€ï¼Œè¡¨ç¤ºç»“æ„å¸ƒå±€å®šä¹‰ç»“æŸã€‚

- ç»“æ„å£°æ˜å¯ä»¥æ”¾åœ¨æ‰€æœ‰å‡½æ•°çš„å¤–éƒ¨ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨ä¸€ä¸ªå‡½æ•°å®šä¹‰çš„å†…éƒ¨ï¼Œä½†æ˜¯å¦‚æœæŠŠå£°æ˜æ”¾åœ¨å‡½æ•°å†…éƒ¨ï¼Œå®ƒçš„æ ‡è®°åªå±€é™äºè¯¥å‡½æ•°å†…éƒ¨ä½¿ç”¨ã€‚

- ç»“æ„çš„æ ‡è®°åæ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯åœ¨ä¸€å¤„å®šä¹‰ç»“æ„å¸ƒå±€ï¼Œåœ¨å¦ä¸€å¤„å®šä¹‰å®é™…çš„ç»“æ„å˜é‡ï¼Œå¿…é¡»ä½¿ç”¨æ ‡è®°ã€‚

### 3. å®šä¹‰ç»“æ„å˜é‡
ç»“æ„çš„å«ä¹‰ï¼š
> - ç»“æ„å¸ƒå±€å‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•è¡¨ç¤ºæ•°æ®ï¼Œä½†ä¸è®©ç¼–è¯‘å™¨ä¸ºæ•°æ®åˆ†é…ç©ºé—´ã€‚
>
> - åˆ›å»ºå¦ä¸€ä¸ªç»“æ„å˜é‡ã€‚

#### 3.1 åˆå§‹åŒ–ç»“æ„
è®©æ¯ä¸ªæˆå‘˜çš„åˆå§‹åŒ–é¡¹ç‹¬å ä¸€è¡Œã€‚ç›®çš„ï¼šæé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œå¯¹ç¼–è¯‘å™¨è€Œè¨€ï¼Œåªéœ€è¦ç”¨é€—å·åˆ†éš”å„æˆå‘˜çš„åˆå§‹åŒ–é¡¹ã€‚
- åˆå§‹åŒ–ä¸€ä¸ªç»“æ„å˜é‡ï¼ˆANSIä¹‹å‰ï¼Œä¸èƒ½è‡ªåŠ¨å˜é‡åˆå§‹åŒ–ç»“æ„ï¼ŒANSIä¹‹åå¯ä»¥ç”¨ä»»æ„å­˜å‚¨ç±»åˆ«ï¼‰ä¸åˆå§‹åŒ–æ•°ç»„çš„è¯­æ³•ç±»ä¼¼ã€‚

- ä½¿ç”¨åœ¨ä¸€å¯¹èŠ±æ‹¬å·ä¸­æ‹¬èµ·æ¥çš„åˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œåˆå§‹åŒ–ï¼Œå„åˆå§‹åŒ–é¡¹ç”¨é€—å·åˆ†éš”ã€‚

**âš ï¸æ³¨æ„ï¼šåˆå§‹åŒ–ç»“æ„å’Œç±»åˆ«å­˜å‚¨æœŸ**
- å¦‚æœåˆå§‹åŒ–ä¸€ä¸ªé™æ€å­˜å‚¨æœŸçš„ç»“æ„ï¼Œåˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å€¼å¿…é¡»æ˜¯å¸¸é‡è¡¨è¾¾å¼ã€‚

- å¦‚æœæ˜¯è‡ªåŠ¨å­˜å‚¨æœŸï¼Œåˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å€¼å¯ä»¥ä¸æ˜¯å¸¸é‡ã€‚

#### 3.2 è®¿é—®ç»“æ„æˆå‘˜
- ä½¿ç”¨ç»“æ„æˆå‘˜è¿ç®—ç¬¦ â€”â€”â€”â€”> `ç‚¹(.)` è®¿é—®ç»“æ„ä¸­çš„æˆå‘˜ã€‚
```cpp
/*è®¿é—®libraryä¸­çš„titleéƒ¨åˆ†*/
library.title = "C Primer Plus";
```
- `ç‚¹(.)` æ¯” `åœ°å€ç¬¦(&)` ä¼˜å…ˆçº§é«˜ã€‚
#### 3.3 ç»“æ„çš„åˆå§‹åŒ–å™¨
- C99å’ŒC11ä¸ºç»“æ„æä¾›äº†æŒ‡å®š`åˆå§‹åŒ–å™¨ï¼ˆä¹Ÿå«æ ‡è®°åŒ–ç»“æ„åˆå§‹åŒ–è¯­æ³•ï¼‰`ï¼Œç»“æ„çš„æŒ‡å®šåˆå§‹åŒ–å™¨ä½¿ç”¨`ç‚¹è¿ç®—ç¬¦`å’Œ`æˆå‘˜åï¼ˆè€Œä¸æ˜¯æ–¹æ‹¬å·å’Œä¸‹æ ‡ï¼‰æ ‡è¯†`ç‰¹å®šçš„å…ƒç´ ã€‚
```cpp
struct book gift = {
	.price = 69.00,
	.author = "Stephen Prata",
	.title = "c primer plus"
};
```
- åœ¨æŒ‡å®šåˆå§‹åŒ–å™¨åé¢çš„`æ™®é€šåˆå§‹åŒ–å™¨`ï¼Œä¸ºæŒ‡å®šæˆå‘˜åé¢çš„æˆå‘˜æä¾›åˆå§‹å€¼ã€‚

- æŒ‡å®šæˆå‘˜çš„æœ€åä¸€æ¬¡èµ‹å€¼æ‰æ˜¯å®ƒå®é™…è·å¾—çš„å€¼ã€‚

### 4. ç»“æ„æ•°ç»„

#### 4.1 å£°æ˜ç»“æ„æ•°ç»„
å£°æ˜ç»“æ„æ•°ç»„å’Œå£°æ˜å…¶ä»–ç±»å‹çš„æ•°ç»„ç±»ä¼¼ã€‚
```cpp
/*æŠŠlibraryå£°æ˜ä¸ºä¸€ä¸ªå†…å«MAXBKSä¸ªå…ƒç´ çš„æ•°ç»„*/
struct book library[MAXBKS];
```
> æ•°ç»„ålibraryä¸æ˜¯ç»“æ„åï¼Œæ˜¯æ•°ç»„åã€‚æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯struct bookç±»å‹çš„ç»“æ„å˜é‡ã€‚

#### 4.2 æ ‡è¯†ç»“æ„æ•°ç»„çš„æˆå‘˜
ä¸ºäº†è¡¨ç¤ºç»“æ„æ•°ç»„ä¸­çš„æˆå‘˜ï¼Œé‡‡ç”¨è®¿é—®å•ç‹¬ç»“æ„çš„è§„åˆ™ï¼šåœ¨ç»“æ„ååé¢åŠ ä¸€ä¸ªç‚¹è¿ç®—ç¬¦ï¼Œå†åœ¨ç‚¹è¿ç®—ç¬¦åé¢åŠ ä¸Šæˆå‘˜åã€‚å¦‚ï¼š
```cpp
library[0].price  /*ç¬¬1ä¸ªæ•°ç»„å…ƒç´ ä¸priceç›¸å…³è”*/
library[4].title  /*ç¬¬5ä¸ªæ•°ç»„å…ƒç´ ä¸titleç›¸å…³è”*/
```
> âš ï¸æ³¨æ„ï¼š***æ•°ç»„ä¸‹æ ‡ç´§è·Ÿåœ¨æ•°ç»„åï¼ˆå¦‚libraryåé¢ï¼‰ï¼Œä¸æ˜¯æˆå‘˜ååé¢ã€‚***

#### 4.2 åµŒå¥—ç»“æ„
åµŒå¥—ç»“æ„ï¼šåœ¨ä¸€ä¸ªç»“æ„ä¸­åŒ…å«å¦ä¸€ä¸ªç»“æ„ã€‚
å¦‚æœè®¿é—®åµŒå¥—ç»“æ„çš„æˆå‘˜ï¼Œéœ€è¦ä½¿ç”¨ä¸¤æ¬¡ç‚¹è¿ç®—ç¬¦ã€‚
```cpp
#define _CRT_SECURE_NO_WARNINGS
#include<stdio.h>
#define LEN 20
const char * msgs[5] =
{
	" Thank you for the wonderful evening, ",
	"You certainly prove that a ",
	"is a special kind of guy. We must get together",
	"over a delicious ",
	" and have a few laughs"
};

struct names {
	char first[LEN];
	char last[LEN];
};
 
struct guy {
	struct names handle;  //åµŒå¥—ç»“æ„ï¼Œç»“æ„é‡ŒåŒ…å«å¦ä¸€ä¸ªç»“æ„
	char favfood[LEN];
	char job[LEN];
	float income;
};
 
int main(void)
{
	struct guy fellow = {
		{"Ewen", "Villard"},
		"grilled salmon",
		"personality coach",
		68112.00
	};
	printf("Dear %s,\n\n", fellow.handle.first); //ä½¿ç”¨åµŒå¥—ç»“æ„ï¼Œå…ˆä½¿ç”¨.å¾—åˆ°nameï¼Œå†.å¾—åˆ°first
	printf("%s%s.\n", msgs[0], fellow.handle.first); 
	printf("%s%s\n", msgs[1], fellow.job);
	printf("%s\n", msgs[2]);
	printf("%s%s%s", msgs[3], fellow.favfood, msgs[4]);
	if (fellow.income > 150000.0)
		puts("!!");
	else if (fellow.income > 75000.0)
		puts("!");
	else
		puts(".");
	printf("\n%40s%s\n", " ", "See you soon,");
	printf("%40s%s\n", " ", "Shalala");
 
	return 0;
}
```

### 5. æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆ
ä½¿ç”¨æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆçš„ç†ç”±ï¼š
- æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆé€šå¸¸æ˜¯ç»“æ„æœ¬èº«æ›´å®¹æ˜“æ“æ§ï¼ˆæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆæ¯”æ•°ç»„æœ¬èº«æ›´å®¹æ˜“æ“æ§ï¼‰ã€‚
- æ—©æœŸCå®ç°ï¼Œç»“æ„ä¸èƒ½ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œå¯ä»¥ä¼ é€’æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆã€‚
- èƒ½ä¼ é€’ä¸€ä¸ªç»“æ„ï¼Œä¼ é€’æŒ‡é’ˆé€šå¸¸æ›´æœ‰æ•ˆç‡ã€‚
- ä¸€äº›ç”¨äºè¡¨ç¤ºæ•°æ®çš„ç»“æ„ä¸­åŒ…å«æŒ‡å‘å…¶å®ƒç»“æ„çš„æŒ‡é’ˆã€‚

#### 5.1 å£°æ˜å’Œåˆå§‹åŒ–ç»“æ„æŒ‡é’ˆ
ä¾‹å­ï¼š
```cpp
struct guy *him;
```
ä¸æ•°ç»„ä¸åŒçš„æ˜¯ï¼Œ~~ç»“æ„åå¹¶ä¸æ˜¯ç»“æ„çš„åœ°å€~~ï¼Œå› æ­¤åœ¨ç»“æ„åå‰åŠ ä¸Š`&è¿ç®—ç¬¦`ã€‚

#### 5.2 ç”¨æŒ‡é’ˆè®¿é—®æˆå‘˜
ä¸¤ç§æ–¹å¼ï¼š
- ä½¿ç”¨ `->` è¿ç®—ç¬¦
	- å¦‚æœ him==&barney ,é‚£ä¹ˆ him->income å³æ˜¯ barney.income
	- å¦‚æœ him==&fellow[0] , é‚£ä¹ˆ him->income å³æ˜¯ fellow [0].income


- ç”¨`è¿ç®—ç¬¦`ï¼ˆå¿…é¡»ä½¿ç”¨`åœ†æ‹¬å·`ï¼Œå› ä¸º`(.)è¿ç®—ç¬¦`æ¯”`(*)`è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜ï¼‰ã€‚
```cpp
barney.income == (*him) . income == him->income //å‡è®¾him== &barney
fellow [0].income == (*him) .income
```
æœ‰äº›ç³»ç»Ÿï¼Œ**ä¸€ä¸ªç»“æ„çš„å¤§å°å¯èƒ½å¤§äºå®ƒå„æˆå‘˜å¤§å°ä¹‹å’Œ**ã€‚

### 6. å‘å‡½æ•°ä¼ é€’ç»“æ„çš„ä¿¡æ¯
å‡½æ•°çš„å‚æ•°æŠŠå€¼ï¼ˆéƒ½æ˜¯æ•°å­—---> intç±»å‹ï¼Œfloatç±»å‹ã€ASCIIå­—ç¬¦ç ã€åœ°å€ï¼‰ä¼ é€’ç»™å‡½æ•°ã€‚

#### 6.1 ä¼ é€’ç»“æ„æˆå‘˜
åªè¦ç»“æ„æˆå‘˜æ˜¯ä¸€ä¸ªå…·æœ‰å•ä¸ªå€¼çš„æ•°æ®ç±»å‹ï¼ˆå³intåŠå…¶ç›¸å…³ç±»å‹ã€charã€floatã€doubleæˆ–æŒ‡é’ˆï¼‰ï¼Œå¯ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ¥å—è¯¥ç‰¹å®šç±»å‹çš„å‡½æ•°ã€‚
```cpp
/*æŠŠç»“æ„æˆå‘˜ä½œä¸ºå‚æ•°ä¼ é€’*/
#include <stdio.h>
#define FUNDLEN 50

struct funds {
	char   bank[FUNDLEN];
	double bankfund;
	char   save[FUNDLEN];
	double savefund;
};

double sum(double, double);

int main(void)
{
	struct funds stan = {
		"Garlic-Melon Bank",
		4032.27,
		"Lucky's Savings and Loan",
		8543.94
	};

	printf("Stan has a total of $%.2f.\n",
		sum(stan.bankfund, stan.savefund));
	return 0;
}

/* adds two double numbers */
double sum(double x, double y)
{
	return(x + y);
}
```

#### 6.2 ä¼ é€’ç»“æ„çš„åœ°å€
å¿…é¡»ä½¿ç”¨`&è¿ç®—ç¬¦`æ¥è·å–`ç»“æ„çš„åœ°å€`ï¼Œç»“æ„ååªæ˜¯å…¶åœ°å€çš„åˆ«åã€‚

```cpp
#include<stdio.h>
#define FUNDLEN 50
 
struct funds {
	char bank[FUNDLEN];
	double bankfund;
	char save[FUNDLEN];
	double savefund;
};
 
double sum(const struct funds *); //
 
int main(void)
{
	struct funds stan = {
		"Garlic--Melon Bank",
		4032.27,
		"Lucky's Savings and Loan",
		8543.94
	};
 
	printf("Stan has a total of $%.2f.\n", sum(&stan)); //
	return 0;
}
double sum(const struct funds * money) //
{
	return (money->bankfund + money->savefund);
}
```
#### 6.3 ä¼ é€’ç»“æ„
æŠŠç»“æ„ä½œä¸ºå‚æ•°çš„ç¼–è¯‘å™¨ã€‚
```cpp
#include<stdio.h>
#define FUNDLEN 50
 
struct funds {
	char bank[FUNDLEN];
	double bankfund;
	char save[FUNDLEN];
	double savefund;
};
 
double sum( struct funds moolah);
 
int main(void)
{
	struct funds stan = {
		"Garlic--Melon Bank",
		4032.27,
		"Lucky's Savings and Loan",
		8543.94
	};
 
	printf("Stan has a total of $%.2f.\n", sum(stan));
	return 0;
}
/*ç¼–è¯‘å™¨ä¼šä¸ºfundsç»“æ„åˆ›å»ºä¸€ä¸ªåä¸ºmoolahçš„è‡ªåŠ¨ç»“æ„å˜é‡å‰¯æœ¬ï¼Œç„¶åå¯¹å‰¯æœ¬è¿›è¡Œæ“ä½œï¼ˆä¸ä¼šæ”¹å˜å®é™…å‚æ•°stanï¼‰*/
double sum( struct funds moolah)
{
	/*ç±»ä¼¼ç»™ç»“æ„èµ·ä¸ªåˆ«åï¼Œç„¶åé€šè¿‡åˆ«åæ¥å¯¹å…¶è¿›è¡Œè®¿é—®*/
	return( moolah.bankfund + moolah.savefund);
}
```

#### 6.4 å…¶ä»–ç»“æ„ç‰¹æ€§

- æ–°æ ‡å‡†çš„Cå…è®¸æŠŠä¸€ä¸ªç»“æ„èµ‹å€¼ç»™å¦ä¸€ä¸ªç»“æ„ï¼Œä½†æ•°ç»„ä¸è¡Œã€‚å³ä½¿æˆå‘˜æ˜¯æ•°ç»„ï¼Œä¹Ÿèƒ½å®Œæˆèµ‹å€¼ã€‚

- ç°åœ¨çš„Cï¼ˆåŒ…æ‹¬ANSI Cï¼‰ï¼Œå‡½æ•°ä¸ä»…èƒ½æŠŠç»“æ„æœ¬èº«ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œè¿˜èƒ½æŠŠç»“æ„ä½œä¸ºè¿”å›å€¼è¿”å›ã€‚
	> æŠŠç»“æ„ä½œä¸ºå‡½æ•°å‚æ•°å¯ä»¥æŠŠç»“æ„çš„ä¿¡æ¯ä¼ é€ç»™å‡½æ•°ï¼ŒæŠŠç»“æ„ä½œä¸ºè¿”å›å€¼çš„å‡½æ•°èƒ½æŠŠç»“æ„çš„ä¿¡æ¯ä»è¢«è°ƒå‡½æ•°ä¼ å›ç»™ä¸»è°ƒå‡½æ•°ã€‚

ğŸ‘‰**å°Tips**ï¼šç»“æ„æŒ‡é’ˆå…è®¸åŒå‘é€šä¿¡ã€‚

**æ–¹æ³•1:ä½¿ç”¨æŒ‡é’ˆæ–¹å¼ â€”â€”â€”â€”> ä¼ é€’åœ°å€**
```cpp
#include<stdio.h>
#include<string.h>

#define NLEN 30
struct namect{
	char fname[NLEN];
	char lname[NLEN];
	int letters;
};
void getinfo(struct namect *);
void makeinfo(struct namect *);
void showinfo(const struct namect *);
char s_gets(char *st,int n);

int main(void)
{
	struct namect person;

	getinfo(&persion);
	makeinfo(&person);
	showinfo(&person);
	return 0;
}
void getinfo(struct namect *pst)
{
	printf("please enter your first name.\n");
	s_gets(pst->fname,NLEN);
	printf("please enter your last name.\n");
	s_gets(pst->lname,NLEN);
}

void makeinfo(struct namect *pst)
{
	pst->letters = strlen(pst->fname) + strlen(pst->lname);
}

void showinfo(const struct namect *pst)
{
	printf("%s %s , your name contains %d letters.\n",
			pst->fname,pst->lname,pst->letters);
}

char s_gets(char *st,int n)
{
	char *ret_val;
	char *find;

	ret_val = fgets(st,n,stdin);
	if(ret_val)
	{
		find = strchr(st,'\n');//æŸ¥æ‰¾æ¢è¡Œç¬¦
		if(find) // å¦‚æœåœ°å€ä¸æ˜¯NULL
			*find = '\0'; // æ”¾ç½®ä¸€ä¸ªç©ºå­—ç¬¦
		else
			while(getchar() !='\n')
			 continue; // å¤„ç†è¾“å…¥è¡Œçš„å‰©ä½™å­—ç¬¦
	}
	return ret_val;
}
```
**æ–¹æ³•2ï¼šä½¿ç”¨ç»“æ„ â€”â€”â€”â€”> ä¼ é€’ç»“æ„**
```cpp
#include<stdio.h>
#include<string.h>

#define NLEN 30
struct namect{
	char fname[NLEN];
	char lname[NLEN];
	int letters;
};

struct namect getinfo(void);
struct namect makeinfo(struct namect);
void showinfo(const struct namect *);
char s_gets(char *st,int n);

int main(void)
{
	struct namect person;

	person = getinfo();
	person = makeinfo(person);
	showinfo(person);
	return 0;
}
void getinfo(void)
{
	struct namect temp;
	printf("please enter your first name.\n");
	s_gets(temp.fname,NLEN);
	printf("please enter your last name.\n");
	s_gets(temp.lname,NLEN);

	return temp;
}

void makeinfo(struct namect *pst)
{
	pst->letters = strlen(pst->fname) + strlen(pst->lname);
}

void showinfo(struct namect info)
{
	printf("%s %s , your name contains %d letters.\n",
			info.fname,info.lname,info.letters);
}

char s_gets(char *st,int n)
{
	char *ret_val;
	char *find;

	ret_val = fgets(st,n,stdin);
	if(ret_val)
	{
		find = strchr(st,'\n');//æŸ¥æ‰¾æ¢è¡Œç¬¦
		if(find) // å¦‚æœåœ°å€ä¸æ˜¯NULL
			*find = '\0'; // æ”¾ç½®ä¸€ä¸ªç©ºå­—ç¬¦
		else
			while(getchar() !='\n')
			 continue; // å¤„ç†è¾“å…¥è¡Œçš„å‰©ä½™å­—ç¬¦
	}
	return ret_val;
}
```
>è¯¥æ–¹å¼ä¸­makeinfo()å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªç»“æ„ã€‚

å¯¹äºæŒ‡é’ˆæ–¹å¼ä¼ é€’è¿˜æ˜¯ç»“æ„æ–¹å¼ä¼ é€’ï¼Œä¸¤è€…è¾“å‡ºç»“æœç›¸åŒï¼Œä½¿ç”¨æ–¹å¼ä¸åŒè€Œå·²ã€‚

#### 6.5 ç»“æ„å’Œç»“æ„æŒ‡é’ˆçš„é€‰æ‹©
- **æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’**
	- **ä¼˜ç‚¹**ï¼šæ— è®ºæ˜¯ä»¥å‰è¿˜æ˜¯ç°åœ¨çš„Cå®ç°éƒ½èƒ½ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œè€Œä¸”æ‰§è¡Œå¿«ï¼Œåªéœ€è¦`ä¼ é€’ä¸€ä¸ªåœ°å€`ã€‚
	- **ç¼ºç‚¹**ï¼šæ— æ³•ä¿æŠ¤æ•°æ®ï¼Œæ•…ANSI Cæ–°å¢`consté™å®šç¬¦`å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚
- **ç»“æ„ä½œä¸ºå‚æ•°ä¼ é€’**
	- **ä¼˜ç‚¹**ï¼šå‡½æ•°å¤„ç†çš„æ˜¯åŸå§‹æ•°æ®çš„å‰¯æœ¬ï¼Œè¿™å¯ä»¥ä¿æŠ¤åŸå§‹æ•°æ®ã€‚ä»£ç é£æ ¼ä¹Ÿå¾ˆæ¸…æ¥šã€‚
	- **ç¼ºç‚¹**ï¼šè¾ƒè€ç‰ˆæœ¬çš„å®ç°å¯èƒ½æ— æ³•å¤„ç†ï¼Œä¸”ä¼ é€’ç»“æ„æµªè´¹æ—¶é—´å’Œå­˜å‚¨ç©ºé—´ã€‚ 

ğŸ‘‰**å°Tips**ï¼š
- ç¨‹åºå‘˜ä¸ºäº†è¿½æ±‚æ•ˆç‡ä¼šä½¿ç”¨`ç»“æ„æŒ‡é’ˆ`ä½œä¸ºå‡½æ•°å‚æ•°ï¼Œå¦‚éœ€`é˜²æ­¢åŸå§‹æ•°æ®è¢«æ„å¤–ä¿®æ”¹`ï¼Œä½¿ç”¨ `consté™å®šç¬¦`ã€‚

- æŒ‰`å€¼ä¼ é€’ç»“æ„`æ˜¯å¤„ç†å°å‹ç»“æ„æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚

#### 6.6 ç»“æ„ä¸­çš„å­—ç¬¦æ•°ç»„å’Œå­—ç¬¦æŒ‡é’ˆ
å¦‚æœè¦ç”¨ç»“æ„å‚¨å­˜å­—ç¬¦ä¸²ï¼Œç”¨å­—ç¬¦æ•°ç»„ä½œä¸ºæˆå‘˜æ¯”è¾ƒç®€å•ã€‚ç”¨æŒ‡å‘charçš„æŒ‡é’ˆä¹Ÿè¡Œï¼Œä½†æ˜¯è¯¯ç”¨ä¼šå¯¼è‡´ä¸¥é‡çš„é—®é¢˜ã€‚ï¼ˆæŒ‡é’ˆæœ€å¥½åªç”¨æ¥åœ¨ç¨‹åºä¸­ç®¡ç†é‚£äº›å·²åˆ†é…å’Œåœ¨åˆ«å¤„åˆ†é…çš„å­—ç¬¦ä¸²ï¼‰

#### 6.7 ç»“æ„ã€æŒ‡é’ˆå’Œ`malloc()`
å¦‚æœä½¿ç”¨ `malloc()` åˆ†é…å†…å­˜å¹¶ä½¿ç”¨æŒ‡é’ˆå­˜å‚¨è¯¥åœ°å€ï¼Œé‚£ä¹ˆåœ¨ç»“æ„ä¸­ä½¿ç”¨æŒ‡é’ˆå¤„ç†å­—ç¬¦ä¸²ä¼šæ¯”è¾ƒåˆç†ã€‚

ä¼˜ç‚¹ï¼šå¯ä»¥è¯·æ±‚`malloc()`ä¸ºå­—ç¬¦ä¸²`åˆ†é…åˆé€‚çš„å­˜å‚¨ç©ºé—´`ã€‚

âš ï¸æ³¨æ„ï¼šæˆå¯¹ä½¿ç”¨`malloc()`å’Œ`free()`(ä¸¤ä¸ªå‡½æ•°åŸå‹éƒ½åœ¨ `stdlib.h` å¤´æ–‡ä»¶ä¸­)ã€‚

#### 6.8 å¤åˆå­—é¢é‡å’Œç»“æ„ï¼ˆC99ï¼‰
C99ä¸­çš„å¤åˆå­—é¢é‡ç‰¹æ€§å¯ç”¨äºç»“æ„å’Œæ•°ç»„ã€‚å¦‚æœåªéœ€è¦ä¸€ä¸ªä¸´æ—¶ç»“æ„å€¼ï¼Œæ¨èä½¿ç”¨å¤åˆå­—é¢é‡ã€‚
>å¯ä»¥ä½¿ç”¨å¤åˆå­—é¢é‡åˆ›å»ºä¸€ä¸ªæ•°ç»„ä½œä¸ºå‡½æ•°çš„å‚æ•°æˆ–èµ‹ç»™å¦ä¸€ä¸ªç»“æ„ã€‚

**è¯­æ³•**ï¼šæŠŠ`ç±»å‹å`æ”¾åœ¨`åœ†æ‹¬å·`ä¸­ï¼Œåç´§è·Ÿä¸€ä¸ª`èŠ±æ‹¬å·`æ‹¬èµ·æ¥çš„`åˆå§‹åŒ–åˆ—è¡¨`ã€‚å¦‚ï¼š
```cpp
(struct book){"The Idiot","Fyodor Destroyevsky",6.99}
```


**å…³äºå¤åˆå­—é¢é‡æ€»ç»“**ï¼š
- åœ¨æ‰€æœ‰`å‡½æ•°çš„å¤–éƒ¨`ï¼Œå…·æœ‰`é™æ€å­˜å‚¨å™¨`ã€‚
- åœ¨`å—ä¸­`ï¼Œåˆ™å…·æœ‰`è‡ªåŠ¨å­˜å‚¨æœŸ`ã€‚
- å¤åˆå­—é¢é‡å’Œæ™®é€šåˆå§‹åŒ–åˆ—è¡¨çš„è¯­æ³•è§„åˆ™ç›¸åŒã€‚



#### 6.9 ä¼¸ç¼©å‹æ•°ç»„æˆå‘˜ï¼ˆC99ï¼‰
`å£°æ˜ä¼¸ç¼©å‹æ•°ç»„æˆå‘˜`ä¼šå…·æœ‰çš„ç‰¹æ€§ï¼š
- æ•°ç»„ä¸ä¼šç«‹å³å­˜åœ¨ã€‚
- å¯ä»¥ç¼–å†™åˆé€‚çš„ä»£ç ã€‚

**å£°æ˜çš„è§„åˆ™**ï¼š
- å¿…é¡»æ˜¯ç»“æ„çš„æœ€åä¸€ä¸ªæˆå‘˜ã€‚
- ç»“æ„ä¸­å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæˆå‘˜ã€‚
- ç±»ä¼¼æ™®é€šæ•°ç»„ï¼Œåªæ˜¯æ–¹æ‹¬å·ä¸­æ˜¯ç©ºçš„ã€‚

ä¾‹å¦‚ï¼š
```cpp
struct flex
{
	int count;
	double average;
	double scores[]; // ä¼¸ç¼©å‹æ•°ç»„æˆå‘˜
};
```

**ç‰¹æ®Šè¦æ±‚**
- ~~ä¸èƒ½ç”¨ç»“æ„è¿›è¡Œèµ‹å€¼æˆ–æ‹·è´~~ã€‚
- ~~ä¸è¦ä»¥æŒ‰å€¼æ–¹å¼æŠŠç»“æ„ä¼ é€’ç»™ç»“æ„ã€‚~~**åŸå› **ï¼šæŒ‰å€¼ä¼ é€’å‚æ•°ä¸èµ‹å€¼ç±»ä¼¼ï¼ŒæŠŠç»“æ„çš„åœ°å€ä¼ é€’ç»™å‡½æ•°ã€‚
- ~~ä¸è¦ä½¿ç”¨å¸¦ä¼¸ç¼©å‹æ•°ç»„æˆå‘˜çš„ç»“æ„ä½œä¸ºæ•°ç»„æˆå‘˜æˆ–å¦ä¸€ä¸ªç»“æ„çš„æˆå‘˜ã€‚~~


#### 6.10 åŒ¿åç»“æ„ï¼ˆC11ï¼‰
åŒ¿åç»“æ„ ~~`æ²¡æœ‰åç§°`~~ çš„ç»“æ„æˆå‘˜ã€‚

åŒ¿åç‰¹æ€§åœ¨åµŒå¥—è”åˆä¸­æ›´åŠ æœ‰ç”¨ã€‚

### 7. è”åˆç®€ä»‹
`è”åˆï¼ˆunionï¼‰`æ˜¯ä¸€ç§æ•°æ®ç±»å‹ã€‚èƒ½åœ¨åŒä¸€ä¸ªå†…å­˜ç©ºé—´ä¸­å­˜å‚¨ä¸åŒçš„æ•°æ®ç±»å‹ï¼ˆä¸æ˜¯åŒæ—¶å­˜å‚¨ï¼‰ã€‚

å…¸å‹ç”¨æ³•ï¼šè®¾è®¡ä¸€ç§è¡¨ä»¥å‚¨å­˜æ—¢æ— è§„å¾‹ã€äº‹å…ˆä¸çŸ¥é“é¡ºåºçš„æ··åˆç±»å‹ã€‚

ä½¿ç”¨æ··åˆç±»å‹çš„æ•°ç»„ï¼Œå…¶ä¸­çš„è”åˆéƒ½å¤§å°ç›¸ç­‰ï¼Œæ¯ä¸ªè”åˆå¯ä»¥å­˜å‚¨å„ç§æ•°æ®ç±»å‹ã€‚

å¸¦æ ‡è®°çš„è”åˆæ¨¡ç‰ˆ
```cpp
union hold{
	int digit;
	double bigfl;
	char letter;
};
```
ä¸holdç±»å‹ç›¸å…³çš„å˜é‡ï¼š
```cpp
union hold fit;			// holdç±»å‹çš„è”åˆå˜é‡
union hold save[10];	// å†…å«10ä¸ªè”åˆå˜é‡çš„æ•°ç»„
union hold *pu; 		//æŒ‡å‘holdç±»å‹è”åˆå˜é‡çš„æŒ‡é’ˆ
```

âš ï¸æ³¨æ„ï¼šè”åˆåªèƒ½å­˜å‚¨ä¸€ä¸ªå€¼ã€‚

åˆå§‹åŒ–è”åˆçš„æ–¹æ³•
- æŠŠä¸€ä¸ªè”åˆåˆå§‹åŒ–ä¸ºå¦ä¸€ä¸ªåŒç±»å‹è”åˆã€‚
- åˆå§‹åŒ–è”åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚
- C99æ ‡æ³¨ï¼Œä½¿ç”¨æŒ‡å®šåˆå§‹åŒ–å™¨ã€‚
```cpp
union hold valA;
valA.letter = 'R';
union hold valB = valA;//å¦ä¸€ä¸ªåŒç±»å‹è”åˆ
union hold valC = {88};//åˆå§‹åŒ–è”åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ digit
union hold valD = {.bigfl = 118.2};//æŒ‡å®šåˆå§‹åŒ–å™¨
```

#### 7.1 ä½¿ç”¨è”åˆ
```cpp
fit.digit = 23;   // æŠŠ23å­˜å‚¨åœ¨fitï¼Œå 2å­—èŠ‚
fit.digfl = 2.0;  // æ¸…é™¤23ï¼Œå­˜å‚¨2.0.å 8å­—èŠ‚
fit.letter = 'h'; // æ¸…é™¤2.0ï¼Œå­˜å‚¨hï¼Œå 1ä¸ªå­—èŠ‚
```

`ç‚¹è¿ç®—ç¬¦`ï¼šè¡¨ç¤ºæ­£åœ¨ä½¿ç”¨å“ªç§æ•°æ®ç±»å‹ã€‚

ç”¨æŒ‡é’ˆè®¿é—®è”åˆæ—¶è¦ä½¿ç”¨`->è¿ç®—ç¬¦`ã€‚
```cpp
pu = &fit;
x = pu->digit;//ç›¸å½“äº x = fit.digit
```
åœ¨ç»“æ„ä¸­å‚¨å­˜ä¸å…¶æˆå‘˜æœ‰ä»å±å…³ç³»çš„ä¿¡æ¯ï¼ˆç”¨ä¸€ä¸ªæˆå‘˜æŠŠå€¼å‚¨å­˜åœ¨ä¸€ä¸ªè”åˆä¸­ï¼Œç„¶åç”¨å¦ä¸€ä¸ªæˆå‘˜æŸ¥çœ‹å†…å®¹ï¼‰ã€‚

åŒ¿åè”åˆï¼šä¸€ä¸ªæœºæ„æˆ–è€…è”åˆçš„æ— åè”åˆæˆå‘˜ã€‚


### 8. æšä¸¾ç±»å‹
å¯ä»¥ç”¨`æšä¸¾ç±»å‹(enumerated type)å£°æ˜ç¬¦å·åç§°æ¥è¡¨ç¤ºæ•´å‹å˜é‡`ã€‚ä½¿ç”¨`enumå…³é”®å­—`ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°â€œç±»å‹â€å¹¶æŒ‡å®šå®ƒå¯å…·æœ‰çš„å€¼ï¼ˆè¯­æ³•ä¸ç»“æ„çš„è¯­æ³•ç›¸åŒï¼‰ã€‚

ç›®çš„:æé«˜ç¨‹åºçš„å¯è¯»æ€§ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œæšä¸¾å¸¸é‡æ˜¯intç±»å‹çš„å€¼ï¼Œæšä¸¾åˆ—è¡¨ä¸­çš„å¸¸é‡éƒ½è¢«èµ‹äºˆ0ï¼Œ1ï¼Œ2ç­‰ä»¥æ­¤ç±»æ¨ã€‚

âš ï¸æ³¨æ„ï¼šCå…è®¸æšä¸¾å˜é‡ä½¿ç”¨ ++ è¿ç®—ç¬¦ï¼Œåœ¨C++æ ‡å‡†ä¸­æ˜¯ä¸å…è®¸ä½¿ç”¨ã€‚

åœ¨æšä¸¾å£°æ˜ä¸­ï¼Œå¯ä»¥ä¸ºæšä¸¾å¸¸é‡æŒ‡å®šæ•´æ•°å€¼ã€‚
>å¦‚æœåªç»™ä¸€ä¸ªæšä¸¾å¸¸é‡èµ‹å€¼ï¼Œæ²¡æœ‰å¯¹åé¢çš„æšä¸¾å¸¸é‡èµ‹å€¼ï¼Œé‚£ä¹ˆåé¢çš„å¸¸é‡ä¼šè¢«åç»­èµ‹å€¼ã€‚
>```cpp
> enum feline {cat, lynx = 10, puma, tiger};
>```

#### 8.1 æšä¸¾enumçš„ç”¨æ³•
ç›®çš„ï¼šæé«˜ç¨‹åºçš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

âš ï¸æ³¨æ„ï¼šæšä¸¾åªèƒ½åœ¨`å†…éƒ¨ä½¿ç”¨`ã€‚

### 9. typedefç®€ä»‹

typedefæ˜¯é«˜çº§æ•°æ®ç‰¹æ€§ã€‚åˆ©ç”¨typedef å¯ä»¥ä¸ºæŸä¸€ç±»å‹è‡ªå®šä¹‰åç§°ã€‚

typedef çš„ä½œç”¨åŸŸå–å†³äºtypedefå®šä¹‰æ‰€åœ¨çš„ä½ç½®ã€‚
> å¦‚æœå®šä¹‰åœ¨`å‡½æ•°å†…éƒ¨`ï¼Œå±`å±€éƒ¨ä½œç”¨åŸŸ`ã€‚
> å¦‚æœåœ¨`å‡½æ•°å¤–éƒ¨`ï¼Œåˆ™å…·æœ‰`æ–‡ä»¶ä½œç”¨åŸŸ`ã€‚

#### 9.1 `typedef` å’Œ `#define` çš„åŒºåˆ«
- `typedef`åˆ›å»ºçš„ç¬¦å·ååªå—é™ä¸ç±»å‹ï¼Œä¸èƒ½ç”¨äºå€¼ã€‚
- `typedef` ç”±`ç¼–è¯‘å™¨`è§£é‡Šï¼Œè€Œä¸æ˜¯`é¢„å¤„ç†å™¨`ã€‚
- åœ¨å…¶å—é™èŒƒå›´é‡Œï¼Œ`typedef`æ¯”`#define`æ›´çµæ´»

ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œtypededå®šä¹‰ä¸­ä½¿ç”¨`å¤§å†™å­—æ¯`è¡¨ç¤º`è¢«å®šä¹‰çš„åç§°`ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å°å†™ã€‚
> typedefä¸­ä½¿ç”¨çš„åç§°éµå¾ªå˜é‡å‘½åçš„è§„åˆ™ã€‚

å°†`typedef`ç”¨äºæ¥å‘½åä¸€ä¸ªç»“æ„ç±»å‹æ—¶ï¼Œå¯ä»¥`çœç•¥ç»“æ„çš„æ ‡ç­¾`ã€‚

#### 9.2 ä½¿ç”¨typedefçš„åŸå› 
- ä¸ºç»å¸¸å‡ºç°çš„ç±»å‹åˆ›å»ºä¸€ä¸ªæ–¹ä¾¿ã€æ˜“è¯†åˆ«çš„ç±»å‹åã€‚
- typedefå¸¸ç”¨æ¥ç»™å¤æ‚çš„ç±»å‹å‘½åã€‚

âš ï¸æ³¨æ„ï¼šä½¿ç”¨`typedef`æ—¶ï¼Œtypedefå¹¶æ²¡æœ‰åˆ›å»ºä»»ä½•æ–°ç±»å‹ï¼Œåªæ˜¯ä¸ºæŸä¸ªå·²å­˜åœ¨çš„ç±»å‹å¢åŠ æ–¹ä¾¿ä½¿ç”¨çš„æ ‡ç­¾ã€‚
